<% @title = '設定' %>

<ul class="nav nav-tabs col-md-5 mx-auto mt-3" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">プロフィール</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="mail-tab" data-toggle="tab" href="#mail" role="tab" aria-controls="mail" aria-selected="false">メールアドレス</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="password-tab" data-toggle="tab" href="#password" role="tab" aria-controls="password" aria-selected="false">パスワード</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="delete-tab" data-toggle="tab" href="#delete" role="tab" aria-controls="delete" aria-selected="false">アカウント削除</a>
  <li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <div class="field form-group mx-auto col-md-4 mt-3">
        <%= f.label :アイコン %><br />
        <%= image_tag current_user.avatar.url, class: 'mb-2' %>
        <%= f.file_field :avatar, class: 'filestyle', "data-buttonBefore": true %>
      </div>  
      <div class="field form-group mx-auto col-md-4">
        <%= f.label :ハンドルネーム %><br />
        <%= f.text_field :name, autofocus: true, class: 'form-control' %>
      </div>
      <div class="field form-group mx-auto col-md-4">
        <%= f.label :自己紹介 %><br />
        <%= f.text_area :profile, rows: 2, class: 'form-control' %>
      </div>
      <div class="field form-group mx-auto col-md-4">
        <%= f.label :Twitterアカウント %><br />
        <%= f.text_field :twitter_id, class: 'form-control' %>
      </div>
      <div class="form-group actions mx-auto col-md-4">
        <%= f.submit "変更する", class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
  <div class="tab-pane fade" id="mail" role="tabpanel" aria-labelledby="mail-tab">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <div class="field form-group mx-auto col-md-4 mt-3">
        <%= f.label :email %><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control' %>
      </div>
  
      <div class="form-group actions mx-auto col-md-4">
        <%= f.submit "変更する", class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
  <div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="password-tab">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <div class="field form-group mx-auto col-md-4 mt-3">
        <%= f.label :パスワード（6文字以上） %><br />
        <%= f.password_field :password, autocomplete: "off", class: 'form-control' %>
      </div>
  
      <div class="field form-group mx-auto col-md-4">
        <%= f.label :パスワード（確認用） %><br />
        <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control' %>
      </div>
  
      <div class="form-group actions mx-auto col-md-4">
        <%= f.submit "変更する", class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
  <div class="tab-pane fade" id="delete" role="tabpanel" aria-labelledby="delete-tab">
    <div class="field form-group mx-auto col-md-4 mt-3"> <%= button_to "アカウントを削除する", registration_path(resource_name), data: { confirm: "アカウントを削除すると、投稿した短歌もすべて削除されます。本当に削除しますか？" }, method: :delete, class: 'btn btn-primary' %></div>
  </div>
</div>
